<mat-card class="card" [class.vampire]="userService.appIsDark()" [class.angel]="!userService.appIsDark()">
    <mat-card-header>
        <mat-card-title>
            <h1 data-testid="header-title">Angular / Material</h1>
        </mat-card-title>
    </mat-card-header>
    <mat-card-content>
        <div class="commentgrid topics">
            <div><app-related-content></app-related-content></div>
            <div>
                <div>
                    <ul>
                        <li>
                            <mat-expansion-panel>
                                <mat-expansion-panel-header>
                                    <mat-panel-title>Basics / Files / Common Commands</mat-panel-title>
                                </mat-expansion-panel-header>
                                <ul>
                                    <li>
                                        Working with HTML elements:
                                        <dl>
                                            <dt>Do something on an event. e.g. (click)="clickfunc()"</dt>
                                            <dd>()</dd>
                                            <dt>Right-hand side of the assignment is a dynamic expression.</dt>
                                            <dd>[]</dd>
                                            <dt>Associate with a variable</dt>
                                            <dd>[ngModel]="variable"</dd>
                                            <dt>Decorator</dt>
                                            <dd>e.g. ViewChild</dd>
                                            <dt>Directive</dt>
                                            <dd>e.g. ngIf</dd>
                                            <dt>Template Reference Variable</dt>
                                            <dd>e.g. &lt;span #me&gt;</dd>
                                            <dt>Display a variable using interpolation</dt>
                                            <dd>
                                                <p
                                                    [innerHtml]="'<spanks>&#123;&#123;variable to display&#125;&#125;</span>'">
                                                </p>
                                            </dd>
                                            <dt>Embed a "data-testid" attribute in element after build</dt>
                                            <dd>[attr.data-testid]="'edit-frozen-' + i"</dd>
                                        </dl>
                                    </li>
                                    <li>
                                        <div>
                                            <h3>Important Files</h3>
                                            <ul class="condensed">
                                                <li>angular.json - Application settings.</li>
                                                <li>packages.json - NPM packages to install for application.</li>
                                            </ul>
                                        </div>

                                        <div>
                                            <h3>Useful Commands</h3>
                                            <ul class="condensed">
                                                <li><inline-code>ng new super-app --routing --style=scss</inline-code> -
                                                    Create
                                                    a new Angular project with routing and SCSS.
                                                </li>
                                                <li><inline-code>npm install</inline-code> - Install all files necessary
                                                    to
                                                    run the Angular
                                                    project.</li>
                                                <li><inline-code>ng serve -o</inline-code> - Runs app locally. The -o
                                                    opens
                                                    it in your
                                                    browser.
                                                </li>
                                                <li><inline-code>ng build --configuration
                                                        development/production</inline-code> - Build for
                                                    deployments. Output in /dist folder.</li>
                                                <li><inline-code>ng add &#64;angular/material</inline-code> - Installs
                                                    Material. This method
                                                    is
                                                    preferred for npm install as it performs additional initialization.
                                                </li>
                                            </ul>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <h3>Useful Links</h3>
                                            <ul class="condensed">
                                                <li>Angular - https://angular.io/</li>
                                                <li>Material - https://material.angular.io/</li>
                                                <li>Fonts - https://fonts.google.com/icons</li>
                                            </ul>
                                        </div>
                                    </li>
                                </ul>
                            </mat-expansion-panel>
                        </li>
                        <li>
                            <mat-expansion-panel>
                                <mat-expansion-panel-header>
                                    <mat-panel-title>Point at "test" or "prod" environment</mat-panel-title>
                                    <mat-panel-description>Environment files</mat-panel-description>
                                </mat-expansion-panel-header>It often needs to point at a different set of backend
                                services when developing new features. Using environment files, you can point at
                                different backend services based on the environment. For example, you can have different
                                connection strings for development, staging, and production environments.<br><br>

                                e.g. to launch the dev version: <inline-code>ng serve --configuration
                                    development</inline-code><br><br>

                                <ol>
                                    <li>
                                        <mat-expansion-panel>
                                            <mat-expansion-panel-header>
                                                <mat-panel-title>Add configurations to angular.json</mat-panel-title>
                                            </mat-expansion-panel-header>Use the fileReplacements feature to replace the
                                            environment file with the appropriate one for the environment.
                                            <br><br>
                                            <code>
<pre>
"configurations": &#123;
    "development": &#123;
        "other settings..."
        "fileReplacements": [
            &#123;
            "replace": "src/environments/environment.ts",
            "with": "src/environments/environment.development.ts"
            &#125;
        ]
        &#125;,
        "preprod": &#123;
        "other settings..."
        "fileReplacements": [
            &#123;
            "replace": "src/environment.ts",
            "with": "src/environments/environment.pp.ts"
            &#125;
        ]
        &#125;
    "prod": &#123;
        "other settings..."
        "fileReplacements": [
        &#123;
            "replace": "src/environment.ts",
            "with": "src/environments/environment.prod.ts"
        &#125;
        ]
    &#125;
    &#125;,
    "defaultConfiguration": "development"
</pre>
                                            </code>
                                        </mat-expansion-panel>
                                    </li>
                                    <li>
                                        <mat-expansion-panel>
                                            <mat-expansion-panel-header>
                                                <mat-panel-title>Create environment files</mat-panel-title>
                                            </mat-expansion-panel-header>
                                            <ol>
                                                <li>Run <inline-code>ng generate environments</inline-code>. This will
                                                    create environment files for you and update angular.json to use the
                                                    correct resource on build.</li>
                                                <li>Update <inline-file>environment.development.ts</inline-file> with
                                                    contents:<br>
                                                    <code>
                                                        <pre>
export const environment = &#123;
    production: false,
    apiUrl: 'http://127.0.0.1'
&#125;
                                                        </pre>
                                                    </code>
                                                </li>
                                                <li>Update <inline-file>environment.production.ts</inline-file> with
                                                    contents:<br>
                                                    <code>
                                                        <pre>
export const environment = &#123;
    production: true,
    apiUrl: 'https://api.nehsa.net'
&#125;
                                                        </pre>
                                                    </code>
                                                </li>
                                            </ol>
                                        </mat-expansion-panel>
                                    </li>
                                    <li>
                                        <mat-expansion-panel>
                                            <mat-expansion-panel-header>
                                                <mat-panel-title>Update HTTP Service to use it</mat-panel-title>
                                            </mat-expansion-panel-header>Update the http service to use it:<br>
                                            <code>
<pre>
import &#123; environment &#125; from '../environments/environment';

constructor(private http: HttpClient) &#123; 
    this.contactmeUrl = `$&#123;environment.apiUrl&#125;/$&#123;environment.apiVersion&#125;/&lt;ENDPOINT&gt;`;
&#125;
</pre>
</code>
                                        </mat-expansion-panel>
                                    </li>
                                </ol>
                            </mat-expansion-panel>
                        </li>
                        <li>
                            <mat-expansion-panel>
                                <mat-expansion-panel-header>
                                    <mat-panel-title>Services should be singletons</mat-panel-title>
                                </mat-expansion-panel-header>
                                Services need to be singletons. If you have a userService, it should
                                only be in the "providers" in a single spot. Otherwise, you'll have
                                multiple instances of the same service which can cause issues.

                                <br><br>
                                An easy way to ensure this is to add the service to the "providers", do not create a new instance in the constructor.
                            </mat-expansion-panel>
                        </li>
                        <li>
                            <mat-expansion-panel>
                                <mat-expansion-panel-header>
                                    <mat-panel-title>Limit logic, used dependancy injection!</mat-panel-title>
                                </mat-expansion-panel-header>

                                Limit logic in a component to only that required for the view. All other
                                logic should be
                                delegated to services. Services I tend to create:
                                <ul class="condensed">
                                    <li>http.service.ts - For all HTTP requests<br><br>
                                        <span class="file">http.service.ts</span>
                                        <code>
                                    <pre>
/** Returns the quote */  
getQuote() &#123;
    return this.http.get(this.quoteUrl);
&#125;
</pre>
</code><br>
                                        <span class="file">supercomponent.ts</span>
                                        <code>
                                    <pre>
constructor() &#123;
    var getQuotes = this.httpClient.getQuote();
    this.getQueries.push(getQuotes);
&#125;

ngOnInit() &#123;
    forkJoin(this.getQueries).subscribe(next => &#123;
        if (next == null) &#123;
            return;
        &#125;

        this.quote = next[0]
    &#125;);
&#125;
</pre>
                                        </code>
                                    </li>
                                    <li>user.service.ts - For all user-related functions
                                    </li>
                                    <li>snack.service.ts - Providing messaging to users
                                    </li>
                                    <li>splash.service.ts - Displaying splash screen on longer loading
                                        pages/activities
                                    </li>
                                </ul>
                            </mat-expansion-panel>
                        </li>
                        <li>
                            <mat-expansion-panel>
                                <mat-expansion-panel-header>
                                    <mat-panel-title>Control which CSS classes are applied via
                                        TypeScript</mat-panel-title>
                                    <mat-panel-description>
                                    </mat-panel-description>
                                </mat-expansion-panel-header>
                                <ul class="condensed">
                                    <li>HTML
                                        <inline-code>&lt;div [class.bgblue]="showBlueBg"
                                            [class.main]="!showBlueBg"&gt;Yippee!&lt;/div&gt;</inline-code>
                                    </li>
                                    <li>CSS
                                        <code>
<pre>
.bgblue &#123;
background-color: blue;
&#125;

.main &#123;
background-color: var(--theme-splash-backround-color);
&#125;                                        
</pre>
                                        </code>
                                    </li>
                                    <li>TypeScript
                                        <inline-code>public showBlueBg: boolean = false;</inline-code>
                                    </li>
                                </ul>
                            </mat-expansion-panel>
                        </li>
                        <li>
                            <mat-expansion-panel>
                                <mat-expansion-panel-header>
                                    <mat-panel-title>Passing data between components</mat-panel-title>
                                    <mat-panel-description>
                                    </mat-panel-description>
                                </mat-expansion-panel-header>
                                Passing data between components in Angular is easy:
                                <ul class="condensed">
                                    <li>Create two components:
                                        <code>
<pre>
ng g c component1
ng g c component2
</pre>
                                        </code>
                                    </li>
                                    <li>
                                        Set a parameter in component1:
                                        name = "";

                                    </li>
                                </ul>
                            </mat-expansion-panel>
                        </li>
                        <li>
                            <mat-expansion-panel>
                                <mat-expansion-panel-header>
                                    <mat-panel-title>Creating a Copy button for copying
                                        code</mat-panel-title>
                                    <mat-panel-description>
                                    </mat-panel-description>
                                </mat-expansion-panel-header>
                                <ul>
                                    <li>Create shared component called copy</li>
                                    <li>We can use the clipboard service to copy the text.content_copy
                                        <ul>
                                            <li>Update HTML with a click action:
                                                (click)="getCopyText($event)"</li>
                                            <li>Within getCopyText:
                                                <code>
                                                    <pre>
getCopyText() &#123;
const copyContainer = this.copyButton?.nativeElement.closest('.copy-container');
if (copyContainer) &#123;
const content = copyContainer.textContent;
this.copyText = content.trim().replace("content_copy", "");
this.clipboard.copy(this.copyText);
&#125; else &#123;
console.error('No .copy-container found');
&#125;
&#125;
</pre>
                                                </code>
                                            </li>
                                        </ul>

                                        The clipboard service works in all modern browsers.<br><br>
                                        Example:
                                        <div class="copy-container"><app-copy></app-copy>We live on a
                                            mountain right at the top.
                                            There's a beautiful view from the top of the mountain. <span
                                                class="additional-note">Hyperballad (Bj&#xf6;rk,
                                                1995)</span></div>

                                        Adding this to new components is as simple as adding the app-copy tag and adding
                                        the .copy-container class to the element you want to copy.
                                    </li>
                                </ul>
                            </mat-expansion-panel>
                        </li>
                        <li>
                            <mat-expansion-panel>
                                <mat-expansion-panel-header>
                                    <mat-panel-title>Working with HTTP</mat-panel-title>
                                    <mat-panel-description>
                                    </mat-panel-description>
                                </mat-expansion-panel-header>
                                <h3>Sending/Receiving HTTP Data</h3>
                                <div>
                                    I typically structure my projects like this:
                                    <ul class="condensed">
                                        <li>HTTP Service (<span class=file>app/services/http.service.ts</span>)
                                            <code>
                                                <span class="comment">/** Returns the quote */</span>
                                                <pre>
&#64;Injectable()
export class HttpService &#123;
httpOptions = &#123;
    headers: new HttpHeaders(&#123;
        'Content-Type': 'application/json'
    &#125;)
&#125;;
constructor(private http: HttpClient) &#123; &#125;
quoteUrl = "https://api.nehsa.net/v1/quotes";

<span class="comment">/** 
    * Posts the contact me form to API
    * &#64;param &#123;AddUserForm&#125; body - The body to the message
    * &#64;returns &#123;object&#125; - The response from the API
*/</span>
postAddUser(body: AddUserForm) &#123;
    return this.http.post&lt;AddUserForm&gt;(this.addUserUrl, body);
&#125;

<span class="comment">/** Returns a quote */ </span>
getQuote() &#123;
    return this.http.get(this.quoteUrl);
&#125;
&#125;
                                        </pre>
                                            </code>
                                        </li>
                                        <li>type (<span class=file>app/types/http.service.ts</span>)
                                            <code>
                                                <pre>
export class AddUserForm &#123;
email: string = "";
username: string = "";
password: string = "";
&#125;
                                    </pre>
                                            </code>
                                        </li>
                                        <li>Component
                                            <ul class="condensed">
                                                <li><span class=file>component.ts</span>
                                                    <code>
                                                        <pre>
&#64;Component(&#123;
selector: 'app-root',
standalone: true,
imports: [],
providers: [HttpService],
templateUrl: './app.component.html',
styleUrl: './app.component.scss'
&#125;)
export class AppComponent &#123;
quote = "";
constructor(public httpClient: HttpService) &#123; &#125;;

ngOnInit() &#123;
    this.httpClient.getQuote().subscribe(data => &#123;
    if (data != null && data != "") &#123;
        this.quote = data.toString();
    &#125;
&#125;);
&#125;                                         
                                            </pre>
                                                    </code>
                                                </li>
                                                <li>component.html
                                                    <code>
                                                        <pre>
&lt;div&gt;&lt;p&gt;&#123; &#123;quote&#125; &#125;&lt;/p&gt;&lt;/div&gt; (<span class="comment">Remove spaces between &#123;&#125;</span>)
</pre>
                                                    </code>
                                                </li>
                                            </ul>
                                        </li>
                                        <li>
                                            If you need to send await multiple requests:
                                            <code>
                                                <pre>
export class SomeComponent &#123;
item1 = "";
item2 = "";
getQueries: Array&lt;Observable&lt;any&gt;&gt;= new Array&lt;Observable&lt;any&gt;&gt;();

constructor(public httpClient: HttpService) &#123;
var request1 = this.httpClient.getRequest1();
var reqeust2 = this.httpClient.getReqeust2();
this.getQueries.push(request1);
this.getQueries.push(reqeust2);
&#125;;

ngOnInit() &#123;
    forkJoin(this.getQueries).subscribe(next => &#123;
        if (next == null) &#123;
            return;
        &#125;
        this.item1 = next[0]
        this.item2 = next[1];
    &#125;);
&#125;
&#125;                                                           
                                    </pre>
                                            </code>
                                        </li>
                                    </ul>
                                </div>
                            </mat-expansion-panel>
                        </li>
                        <li>
                            <mat-expansion-panel>
                                <mat-expansion-panel-header>
                                    <mat-panel-title>Interfaces</mat-panel-title>
                                    <mat-panel-description>
                                    </mat-panel-description>
                                </mat-expansion-panel-header>
                                <ul>
                                    <li>Interfaces are used to define the structure of an object. They are
                                        particularly useful when working with APIs. Here's an example:
                                        <code>
                                            <pre>
interface timeItem &#123;
    full: string;
    year: number;
    month: number;
    day: number;
    hour: number;
    minute: number;  
&#125;
</pre>
                                        </code><br><br>

                                        Which could be used as followed:
                                        <code>
                                            <pre>
dates = ["2024-08-20 1PM", "2024-08-21 10AM", "2024-09-03 11AM", "2024-09-04 3PM", "2024-09-10 10AM", "2024-09-11 9AM", "2024-09-17 5PM", "2024-09-24 5PM", "2024-09-25 3:30PM"]
timeItems: timeItem[] = [];
constructor() &#123;
    console.log('constructor');
    this.timeItems = this.dates.map(dateString => &#123;
    const full = dateString;
    const [datePart, timePart] = dateString.split(' ');
    const [year, month, day] = datePart.split('-').map(Number);
    const [hourString, minuteString] = timePart.split(':');
    const hour = parseInt(hourString, 10) + (timePart.includes('PM') ? 12 : 0);
    const minute = parseInt(minuteString || '0', 10); // Handle cases without minutes    
    return &#123;
        full,
        year,
        month,
        day,
        hour,
        minute
    &#125;;
    &#125;);
&#125;
</pre>
                                        </code>
                                    </li>
                                </ul>
                            </mat-expansion-panel>
                        </li>
                        <li>
                            <mat-expansion-panel>
                                <mat-expansion-panel-header>
                                    <mat-panel-title>Theming</mat-panel-title>
                                    <mat-panel-description>
                                    </mat-panel-description>
                                </mat-expansion-panel-header>
                                <div>There are likely better ways to theme in Angular but I wasn't able to find one so
                                    here's how I do it:
                                    <ol>
                                        <li>Create a directory heirarchy structure:

                                            <ul>
                                                <li><span class="file">styles.scss</span> - <span class="comment">Global
                                                        stylesheet. No theming content.</span></li>
                                                <li class="directory">styles
                                                    <ul>
                                                        <li class="directory">assets - <span
                                                                class="comment">Self-contained
                                                                assets. In my case for
                                                                this website, these are the minions found throughout
                                                                the website.</span>
                                                            <ul>
                                                                <li><span class="file">lagoon.scss</span></li>
                                                                <li><span class="file">tim.scss</span></li>
                                                                <li><span class="file">gaston.scss</span></li>
                                                                <li><span class="file">pierre.scss</span></li>
                                                            </ul>
                                                        <li><span class="file">colorful.scss</span> - <span
                                                                class="comment">A theme - in this case, the
                                                                light-colorful one</span></li>
                                                        <li><span class="file">dark.scss</span> - <span
                                                                class="comment">Another theme, we can just continue to
                                                                add these. e.g. festiveoccasion.scss if you were so
                                                                inclined..</span></li>
                                                    </ul>
                                                </li>
                                            </ul>
                                        </li>
                                    </ol>
                                    <ol>
                                        I use these website for creating the themes color schemes in an easy to use
                                        format (there are likely others if you search but I've personally had good
                                        luck with this one): <a href="http://mcg.mbitson.com/">Material Design
                                            Pallette
                                            Generate</a><br><br>

                                        <li>
                                            <mat-expansion-panel>
                                                <mat-expansion-panel-header>
                                                    <mat-panel-title>Generate 3 schemes: primary, accent,
                                                        warn</mat-panel-title>
                                                    <mat-panel-description>
                                                    </mat-panel-description>
                                                </mat-expansion-panel-header>
                                                Add them to &lt;THEME&gt;.scss:
                                                <code>
                                                    <pre>
$nehsanet-primary: (
50 : #fbf4fb,
100 : #f5e3f5,
200 : #eed0ee,
300 : #e7bde7,
400 : #e2aee2,
500 : #dda0dd,
600 : #d998d9,
700 : #d48ed4,
800 : #cf84cf,
900 : #c773c7,
A100 : #ffffff,
A200 : #ffffff,
A400 : #ffdeff,
A700 : #ffc4ff,
contrast: (50 : #000000,
    100 : #000000,
    200 : #000000,
    300 : #000000,
    400 : #000000,
    500 : #000000,
    600 : #000000,
    700 : #000000,
    800 : #000000,
    900 : #000000,
    A100 : #000000,
    A200 : #000000,
    A400 : #000000,
    A700 : #000000,
)
);
$primary: mat.define-palette($nehsanet-primary);

$nehsanet-accent: (
50 : #edebf9,
100 : #d2cef0,
200 : #b5ade6,
300 : #978cdc,
400 : #8073d5,
500 : #6a5acd,
600 : #6252c8,
700 : #5748c1,
800 : #4d3fba,
900 : #3c2eae,
A100 : #f3f2ff,
A200 : #c5bfff,
A400 : #978cff,
A700 : #8073ff,
contrast: (50 : #000000,
    100 : #000000,
    200 : #000000,
    300 : #000000,
    400 : #000000,
    500 : #ffffff,
    600 : #ffffff,
    700 : #ffffff,
    800 : #ffffff,
    900 : #ffffff,
    A100 : #000000,
    A200 : #000000,
    A400 : #000000,
    A700 : #000000,
)
);
$accent: mat.define-palette($nehsanet-accent);

/* For use in src/lib/core/theming/_palette.scss */
$nehsanet-warn: (
50 : #ffece9,
100 : #ffd0c8,
200 : #ffb1a3,
300 : #ff927e,
400 : #ff7a63,
500 : #ff6347,
600 : #ff5b40,
700 : #ff5137,
800 : #ff472f,
900 : #ff3520,
A100 : #ffffff,
A200 : #ffffff,
A400 : #ffd3cf,
A700 : #ffbcb6,
contrast: (50 : #000000,
    100 : #000000,
    200 : #000000,
    300 : #000000,
    400 : #000000,
    500 : #000000,
    600 : #000000,
    700 : #000000,
    800 : #ffffff,
    900 : #ffffff,
    A100 : #000000,
    A200 : #000000,
    A400 : #000000,
    A700 : #000000,
)
);
$warn: mat.define-palette($nehsanet-warn);

$nehsanet-typography: mat.define-typography-config($font-family: 'monospace'
);

$app-theme: mat.define-dark-theme((color: (primary: $primary,
            accent: $accent,
            warn: $warn ),
        density: -1,
        typography: $nehsanet-typography ));

&#64;include mat.all-component-themes($app-theme);
                                                </pre>
                                                </code>
                                            </mat-expansion-panel>
                                        </li>
                                        <li>
                                            <mat-expansion-panel>
                                                <mat-expansion-panel-header>
                                                    <mat-panel-title>Use the theme in your component</mat-panel-title>
                                                    <mat-panel-description>
                                                    </mat-panel-description>
                                                </mat-expansion-panel-header>
                                                <code>
                                                    <pre>
&lt;div [class.nehsanet-theme]="userService.appIsDark()"&gt;
&lt;div [class.nehsanet-theme-light]="!userService.appIsDark()"&gt;
&lt;div [class.nehsanet-theme-dark]="userService.appIsDark()"&gt;</pre>
                                                </code>
                                            </mat-expansion-panel>
                                        </li>
                                    </ol>
                                </div>
                            </mat-expansion-panel>
                        </li>
                        <li>
                            <mat-expansion-panel>
                                <mat-expansion-panel-header>
                                    <mat-panel-title>Dynamic CSS (ngClass and whatnot)</mat-panel-title>
                                    <mat-panel-description>
                                    </mat-panel-description>
                                </mat-expansion-panel-header>
                                A few options allow for changes either the class or the style of an element. Here
                                are a a few I use:
                                <ul>
                                    <li>ngClass - Add or remove a class based on a condition
                                        <code>
                                            <pre>
 &lt;div [class.bringmetothelight]="userService.appIsDark()" [class.entermeontodarkness]="!userService.appIsDark()"&gt;KAW POW!&lt;/div&gt;
</pre>
                                        </code>
                                    </li>
                                    <li>ngStyle - Add or remove a style based on a condition
                                        <code>
                                            <pre>
&lt;div [ngStyle]="&#123;'background-color': userService.appIsDark() ? 'black' : 'white'&#125;"&gt;KAW POW!&lt;/div&gt;
</pre>
                                        </code>
                                    </li>
                                </ul>

                            </mat-expansion-panel>
                        </li>
                        <li>
                            <mat-expansion-panel>
                                <mat-expansion-panel-header>
                                    <mat-panel-title>Dynamic HTML (ngFor, for)</mat-panel-title>
                                </mat-expansion-panel-header>
                                Often used for building a list:
                                <ul>
                                    <li>
                                        <code>
                                    <pre>
&lt;ul&gt;
    &lt;li *ngFor="let item of items"&gt;&#123; &#123; item &#125; &#125;&lt;/li&gt;
&lt;/ul&gt;                                      
</pre>
                                        </code>
                                    </li>
                                    <li>Newer versions of Angular allow for a built-in for loop:
                                        <code>
                                    <pre>
&lt;ul&gt;
    &lt;li *for="let item of items"&gt;&#123; &#123; item &#125; &#125;&lt;/li&gt;
&lt;/ul&gt;
</pre>
</code>
                                    </li>
                                </ul>

                            </mat-expansion-panel>
                        </li>
                        <li>
                            <mat-expansion-panel>
                                <mat-expansion-panel-header>
                                    <mat-panel-title>Table select-columns feature</mat-panel-title>
                                    <mat-panel-description>
                                    </mat-panel-description>
                                </mat-expansion-panel-header>
                                <h3>Table select-columns feature: Alter visiblity, stick/freeze columns, change
                                    order
                                </h3>
                                <ul class="condensed">
                                    <li>Todo: Add the example of where I did this!
                                    </li>
                                </ul>
                            </mat-expansion-panel>
                        </li>
                        <li>
                            <mat-expansion-panel>
                                <mat-expansion-panel-header>
                                    <mat-panel-title>Listen for child events</mat-panel-title>
                                    <mat-panel-description>
                                    </mat-panel-description>
                                </mat-expansion-panel-header>
                                <ul class="condensed">
                                    <li>Add a type for the event transmission (e.g. SplashMessage in a new file
                                        <span class=file>splash-message.ts</span>)
                                        <code>
                                <pre>
export class SplashMessage &#123;
    showSplash: boolean = false;
    duration: number = 8;
&#125;
                                </pre>
                                        </code>
                                    </li>
                                    <li>Add a service called <span class=file>splash.service.ts</span>
                                        <code>
                                <pre>
import &#123; Injectable &#125; from '&#64;angular/core';
import &#123; Observable, Subject &#125; from 'rxjs';
import &#123; SplashMessage &#125; from '../types/splash-message';

&#64;Injectable()
export class SplashService &#123;
    private showSplash:Subject&lt;SplashMessage&gt; = new Subject&lt;SplashMessage&gt;();
    private msg = new SplashMessage();

    public show(duration:number) &#123;        
        this.msg.showSplash = true;
        this.msg.duration = duration;
        this.showSplash.next(this.msg);
    &#125;

    public hide() &#123;
        this.msg.showSplash = false;
        this.showSplash.next(this.msg);
    &#125;

    public observe():Observable&lt;SplashMessage&gt; &#123;
        return this.showSplash.asObservable();
    &#125;
&#125;
                                </pre>
                                        </code>
                                    </li>
                                    <li>Add event observer for service to child component
                                        <code>
                                <pre>
constructor(
    private splash: SplashService) &#123; &#125;

    ngOnInit(): void &#123;
    this.splash.observe().subscribe((d) => &#123;
        this.showSplash = d.showSplash;
        let duration: number = d.duration;
        this.showhide(duration);
    &#125;);
&#125;
                                </pre>
                                        </code>
                                    </li>
                                    <li>Use it somewhere:
                                        <inline-code>&lt;app-splash
                                            *ngIf="showSplash"&gt;&lt;/app-splash&gt;</inline-code>
                                    </li>
                                </ul>
                            </mat-expansion-panel>
                        </li>
                        <li>
                            <mat-expansion-panel>
                                <mat-expansion-panel-header>
                                    <mat-panel-title>reCAPTCHA</mat-panel-title>
                                    <mat-panel-description>Implement a reCAPTCHA Checkbox <img
                                            src="assets/images/recaptcha.png" alt="reCAPTCHA" />
                                    </mat-panel-description>
                                </mat-expansion-panel-header>
                                <ul class="condensed">
                                    <li>Sign up for a Recapcha account at https://www.google.com/recaptcha/about/
                                    </li>
                                    <li>Create new project
                                        <ul class="condensed">
                                            <li>Check the "Use a checkbox" option</li>
                                            <li>Save your key information</li>
                                        </ul>
                                    </li>
                                    <li>Install reCAPTCHA packages
                                        <code>npm i ng-recaptcha --save</code>
                                    </li>
                                    <li>Add resolved function in your component:
                                        <code>
                                <pre>
resolved(captchaResponse: string | null) &#123;
    if (captchaResponse != null) &#123;
        this.captcha = captchaResponse;
        console.log(`Resolved captcha with response: $&#123;this.captcha&#125;`);
    &#125;
&#125;
                        </pre>
                                        </code>
                                    </li>
                                    <li>
                                        Add reCAPTCHA to your component form:
                                        <code>
                                        <pre>
&lt;div [hidden]="captcha"&gt;
    &lt;p&gt;Confirm you're human please!&lt;/p&gt;
        &lt;re-captcha (resolved)="resolved($event)" siteKey="&lt;YOURKEY&gt;"&gt;&lt;/re-captcha&gt;
    &lt;/div&gt;
&lt;/div&gt;
&lt;button type="submit" *ngIf="captcha" mat-flat-button&gt;Submit&lt;/button&gt;
                                </pre>
                                        </code>
                                    </li>
                                </ul>
                                <div>
                                    <h3>If all went well:</h3>
                                    <img src="assets/images/recaptcha.png" alt="reCAPTCHA" />
                                </div>
                            </mat-expansion-panel>
                        </li>
                        <li>
                            <mat-expansion-panel>
                                <mat-expansion-panel-header>
                                    <mat-panel-title>Fullscreen mode</mat-panel-title>
                                    <mat-panel-description>Toggle fullscreen mode</mat-panel-description>
                                </mat-expansion-panel-header>
                                <img src="assets/images/fullscreen.png"
                                    alt="A screenshot of the fullscreen button in mud" />
                                <ul class="condensed">
                                    <li>Update <span class="file">app.component.ts</span>
                                        <code>
                                    <pre>
fullScreen: boolean = false;
isFullScreenEvent = new Subject&lt;boolean&gt;();
...
ngOnInit() &#123;
    this.isFullScreenEvent.subscribe(data => &#123; 
        console.log("Full screen event: " + data.toString()); 
        this.fullScreen = data;
        this.ref.detectChanges();
    &#125;);

    this.checkScreenMode();
&#125;
...    
elem: any; isFullScreen: boolean | undefined;
&#64;HostListener('document:fullscreenchange', ['$event'])
&#64;HostListener('document:webkitfullscreenchange', ['$event'])
&#64;HostListener('document:mozfullscreenchange', ['$event'])
&#64;HostListener('document:MSFullscreenChange', ['$event'])
fullscreenmodes(event: any) &#123;
    this.checkScreenMode();
&#125;
checkScreenMode() &#123;
    if (document.fullscreenElement) &#123;
    this.isFullScreen = true;
    &#125; else &#123;
    this.isFullScreen = false;
    &#125;
    this.isFullScreenEvent.next(this.isFullScreen );
&#125;
                                        </pre>
                                        </code>
                                    </li>
                                    <li>Mark any div to hide when in fullscreen with: *ngIf="!fullScreen"</li>
                                    <li>Add feature in component:
                                        <code>
                                    <pre>
openFullScreen() &#123;
    var elem = document.documentElement;
    if (elem.requestFullscreen) &#123;
        elem.requestFullscreen();
    &#125;
&#125;

    cancelFullScreen() &#123;
    if (document.exitFullscreen) &#123;
        document.exitFullscreen();
    &#125;
&#125;

    fullscreen() &#123;
    this.isFullscreen = !this.isFullscreen;
    if (this.isFullscreen) &#123;
        this.openFullScreen();
    &#125; else &#123;
        this.cancelFullScreen();
    &#125;
&#125;
                                        </pre>
                                        </code>
                                    </li>
                                </ul>
                            </mat-expansion-panel>
                        </li>
                        <li>
                            <mat-expansion-panel>
                                <mat-expansion-panel-header>
                                    <mat-panel-title>Set focus on control after page load</mat-panel-title>
                                </mat-expansion-panel-header>
                                <ul>
                                    <li>Add a sleep in ngOnInit with something like this:<br>
                                        <span class="important">HTML:</span>
                                        <inline-code>&lt;input id="mud-input" type="text" /&gt;</inline-code>
                                        <span class="important">Typescript:</span>
                                        <code>
                                            <pre>
// set focus to mud input
const mudInput = document.getElementById('mud-input')! as HTMLInputElement;
setTimeout(() => &#123;
    this.refocus(mudInput);
&#125;, 0);
</pre>
                                        </code>
                                    </li>
                                </ul>

                            </mat-expansion-panel>
                        </li>
                        <li>
                            <mat-expansion-panel>
                                <mat-expansion-panel-header>
                                    <mat-panel-title>Working with Forms</mat-panel-title>
                                </mat-expansion-panel-header>
                                <mat-expansion-panel>
                                    <mat-expansion-panel-header>
                                        <mat-panel-title>Form Validation</mat-panel-title>
                                        <mat-panel-description>
                                        </mat-panel-description>
                                    </mat-expansion-panel-header>
                                    <ul>
                                        <li>
                                            <h4>Example form element:</h4>
                                            <code>&lt;input type="email" id="email"
                                                name="email"
                                                [formControl]="emailControl"&gt;</code>
                                        <li>
                                            <h4>Within TypeScript:</h4>
                                            <code>
                                                <pre>
export class SignupComponent &#123;
    userDetails: FormGroup;
    emailControl = new FormControl('');
    constructor(
    private fb: FormBuilder) &#123;
        this.userDetails = this.fb.group(&#123;
            email: this.emailControl,
            passwordmatch: this.passwordmatchControl
            &#125;);
&#125;

ngOnInit() &#123;
<span class="comment">// Add validators</span>
this.emailControl.addValidators([Validators.required, Validators.email]);
this.usernameControl.addValidators([Validators.required, Validators.minLength(4)]);
this.passwordControl.addValidators([Validators.required, Validators.pattern(/(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[&#64;$!%*#?&^_-]).&#123;8,&#125;/)]);
this.passwordmatchControl.addValidators([Validators.required, this.checkPassword()]);
&#125;

<span class="comment">// custom validator function</span>
checkPassword() &#123;
return (control: AbstractControl): ValidationErrors | null => &#123;
const passwordInput = this.passwordControl.value
const passwordMatchInput = this.passwordmatchControl.value
if (passwordInput !== passwordMatchInput) &#123;
    this.passwordmatchControl.setErrors(&#123; notEquivalent: true &#125;);
    return this.passwordmatchControl.errors;        
&#125; else &#123;
    this.passwordmatchControl.setErrors(null);
    return null;
&#125;
&#125;
&#125;

submitForm(): void &#123;
if (this.userDetails.invalid) return;        
<span class="comment">// form is valid, we can proceed!</span>
&#125;
&#125;
                                </pre>
                                            </code>
                                        </li>
                                        <li>Add submit button<br>
                                            <code>
                                                &lt;button (click)="submitForm()"
                                                [disabled]="this.userDetails.invalid"&gt;Submit&lt;/button&gt;
                                            </code>
                                        </li>
                                    </ul>
                                    <div>
                                        <h4>Example</h4>
                                        <img src="assets/images/signup.png" alt="Form Validation" />
                                    </div>
                                </mat-expansion-panel>
                            </mat-expansion-panel>
                        </li>
                        <li>
                            <mat-expansion-panel>
                                <mat-expansion-panel-header>
                                    <mat-panel-title>Listening for events on elements</mat-panel-title>
                                </mat-expansion-panel-header>
                                This list is not exhaustive, but here are events I typically have use to listen for:
                                <ul>
                                    <li>(click)="function()" - Listen for a click event</li>
                                    <li>(mouseover)="function()" - Listen for a mouseover event</li>
                                    <li>(mouseout)="function()" - Listen for a mouseout event</li>
                                    <li>(mouseenter)="function()" - Listen for a mouseenter event</li>
                                    <li>(mouseleave)="function()" - Listen for a mouseleave event</li>
                                    <li>(focus)="function()" - Listen for a focus event</li>
                                    <li>(blur)="function()" - Listen for a blur event</li>
                                    <li>(submit)="function()" - Listen for a submit event</li>
                                    <li>(change)="function()" - Listen for a change event</li>
                                    <li>(input)="function()" - Listen for an input event</li>
                                    <li>(keydown)="function()" - Listen for a keydown event</li>
                                    <li>(keyup)="function()" - Listen for a keyup event. <span class="comment">You
                                            can also do neat things like: <span
                                                class="code">(keyup.enter)="function()"</span>!</span></li>
                                    <li>(keypress)="function()" - Listen for a keypress event</li>
                                    <li>(scroll)="function()" - Listen for a scroll event</li>
                                    <li>(drag)="function()" - Listen for a drag event</li>
                                    <li>(drop)="function()" - Listen for a drop event</li>
                                    <li>(dragover)="function()" - Listen for a dragover event</li>
                                    <li>(dragenter)="function()" - Listen for a dragenter event</li>
                                    <li>(dragleave)="function()" - Listen for a dragleave event</li>
                                    <li>(dragstart)="function()" - Listen for a dragstart event</li>
                                    <li>(dragend)="function()" - Listen for a dragend event</li>
                                    <li>(resize)="function()" - Listen for a resize event</li>
                                    <li>(orientationchange)="function()" - Listen for an orientationchange event
                                    </li>
                                    <li>(fullscreenchange)="function()" - Listen for a fullscreenchange event</li>
                                    <li>(fullscreenerror)="function()" - Listen for a fullscreenerror event</li>
                                    <li>(animationstart)="function()" - Listen for an animationstart event</li>
                                    <li>(animationend)="function()" - Listen for an animationend event</li>
                                    <li>(animationiteration)="function()" - Listen for an animationiteration
                                        event/li>

                                </ul>
                            </mat-expansion-panel>
                        </li>
                        <li>
                            <mat-expansion-panel>
                                <mat-expansion-panel-header>
                                    <mat-panel-title>Scrolling to a particular spot</mat-panel-title>
                                    <mat-panel-description>
                                    </mat-panel-description>
                                </mat-expansion-panel-header>
                                <ol>
                                    <li>Assign a template reference variable to the element:<br>
                                        e.g. <span class="importantish">#me: </span> <inline-code>&lt;span
                                            #me&gt;I will scroll here!&lt;/span&gt;</inline-code></li>
                                    <li>Add a ViewChild decorator to the component (just under but within the
                                        class):<br>
                                        <inline-code>&#64;ViewChild('me') meSection: ElementRef = new
                                            ElementRef(null);</inline-code>
                                    </li>
                                    <li>Scroll to the element:<br>
                                        <inline-code>this.meSection.nativeElement.scrollIntoView(&#123; behavior:
                                            'smooth' &#125;);</inline-code><br>
                                        <span class="additional-note">Behaviors include: <br>
                                            <dl>
                                                <dt>auto</dt>
                                                <dd>Determined by the browser</dd>
                                                <dt>smooth</dt>
                                                <dd>Scrolls in a smooth fashion</dd>
                                                <dt>instant</dt>
                                                <dd>Scrolls instantly</dd>
                                            </dl>
                                        </span>
                                    </li>

                                </ol>

                            </mat-expansion-panel>
                        </li>
                        <li>
                            <mat-expansion-panel>
                                <mat-expansion-panel-header>
                                    <mat-panel-title>Create a collapsable menu for small devices</mat-panel-title>
                                    <mat-panel-description>
                                    </mat-panel-description>
                                </mat-expansion-panel-header>Using responsive design, I have placed the navigation in a
                                single column below the body on small devices (anything smaller than a Google Nest Hub).
                                However, this still takes up too much space. To better use the space available on small
                                devices, I'd like a panel that can be expanded/collapsed.<br><br>

                                Like so:<br><br>

                                <span class="importantish">Mobile:</span><br>
                                <img src="assets/images/mobile-menu.png" alt="Collapsable Menu - Mobile" /><br><br>
                                <span class="importantish">Desktop:</span><br>
                                <img src="assets/images/desktop-menu.png" alt="Collapsable Menu - Desktop" /><br><br>

                                Here's how I did it:<br>
                                <ul>
                                    <li>Create expansion panel to navigation</li>
                                    <li>Hide toggle and force expanded on desktop</li>
                                    <li>Create responsive.service.ts service to get page width and height as they change
                                    </li>
                                    <li>Subscribe to it on the navbar component</li>
                                    <li>Bind to panel to variables:
                                        <code>
                                            <pre>
&lt;mat-expansion-panel #panel [expanded]="expanded"
[disabled]="!allowExpand" 
[class.panel-expanded]="panel.expanded" 
[class.panel-collapsed]="!panel.expanded"  
[hideToggle]="!allowExpand"&gt;
&lt;mat-expansion-panel-header #header&gt;
    &lt;mat-panel-title&gt;&lt;FEATURED NAVIGATION&gt;
    &lt;/mat-panel-title&gt;
&lt;/mat-expansion-panel-header&gt;
&lt;NAVIGATION&gt;
&lt;/mat-expansion-panel&gt;
                                            </pre>
                                        </code>
                                    </li>
                                </ul>

                                These are the settings:
                                <ul>
                                    <li>If mobile (resolution.width < 768): this.allowExpand=true &
                                            this.expanded=false;</li>
                                    <li>If tablet (resolution.width < 1024): this.allowExpand=true &
                                            this.expanded=true;</li>
                                    <li>If desktop (else): this.allowExpand = false & this.expanded = true;</li>
                                </ul>
                            </mat-expansion-panel>
                        </li>
                        <li>
                            <mat-expansion-panel>
                                <mat-expansion-panel-header>
                                    <mat-panel-title>Use Custom Schema</mat-panel-title>
                                    <mat-panel-description>
                                    </mat-panel-description>
                                </mat-expansion-panel-header>
                                Angular, will not allow custom elements by default. To use
                                them, do the following:
                                <ul>
                                    <li>Add CUSTOM_ELEMENTS_SCHEMA to your component</li>
                                </ul><br><br>

                                e.g.
                                <code>
<pre>
&#64;Component(&#123;
    selector: 'app-angular',
    standalone: true,
    imports: [MatCardModule, CommentComponent, MatExpansionModule, MatIcon, RouterLink, CopyComponent],
    schemas: [CUSTOM_ELEMENTS_SCHEMA], <span class="comment">// <mat-icon>arrow_back</mat-icon> Add this line</span>
    templateUrl: './angular.component.html',
    styleUrl: './angular.component.scss'
&#125;)
</pre>
                        </code>
                            </mat-expansion-panel>
                        </li>
                        <li>
                            <mat-expansion-panel>
                                <mat-expansion-panel-header>
                                    <mat-panel-title>Troubleshooting</mat-panel-title>
                                </mat-expansion-panel-header>
                                <ul>
                                    <li>
                                        <mat-expansion-panel>
                                            <mat-expansion-panel-header>
                                                <mat-panel-title>Case Matters!</mat-panel-title>
                                            </mat-expansion-panel-header>
                                            <mat-icon class="good">check</mat-icon><inline-code>&lt;a
                                                routerLink="/python"&gt;Python&lt;/a&gt;</inline-code><br><br>
                                            <mat-icon class="bad">close</mat-icon><inline-code>&lt;a
                                                routerlink="/python"&gt;Python&lt;/a&gt;</inline-code>
                                        </mat-expansion-panel>
                                    </li>
                                    <li>
                                        <mat-expansion-panel>
                                            <mat-expansion-panel-header>
                                                <mat-panel-title>Can't bind to 'ngModel' since it
                                                    isn't a known property of 'input'</mat-panel-title>
                                            </mat-expansion-panel-header>
                                            <span class="problem">Can't bind to 'ngModel' since it
                                                isn't a known property of 'input'</span>
                                            <span class="solution">
                                                <code>
<pre>
Import
FormsModule
</pre>
                                                </code>
                                            </span>
                                        </mat-expansion-panel>
                                    </li>
                                    <li>
                                        <mat-expansion-panel>
                                            <mat-expansion-panel-header>
                                                <mat-panel-title>Can't bind to 'formGroup' since it
                                                    isn't a known property of 'form'</mat-panel-title>
                                            </mat-expansion-panel-header>
                                            <span class="problem">Can't bind to 'formGroup' since it
                                                isn't a known property of 'form'</span>
                                            <span class="solution">
                                                <inline-code>Import ReactiveFormsModule</inline-code>
                                            </span>
                                        </mat-expansion-panel>
                                    </li>
                                    <li>
                                        <mat-expansion-panel>
                                            <mat-expansion-panel-header>
                                                <mat-panel-title>Can't bind to 'formGroup' since it
                                                    isn't a known property of 'form'</mat-panel-title>
                                            </mat-expansion-panel-header>
                                            <span class="problem">&quot;The same typography styles are generated
                                                multiple
                                                times&quot; when building the project</span>
                                            <div class="solution">
                                                <ul>
                                                    <li>
                                                        Look to put the theme generation behind classes:
                                                        <code>
                                                        <pre>
&#64;include mat.all-component-colors($dark-primary);
&#64;include mat.core-theme($dark-theme);
&#64;include mat.button-theme($dark-theme);
&#64;include mat.card-theme($dark-theme);
&#64;include mat.checkbox-theme($dark-theme);
&#64;include mat.dialog-theme($dark-theme);
&#64;include mat.icon-theme($dark-theme);
&#64;include mat.input-theme($dark-theme);
&#64;include mat.list-theme($dark-theme);
&#64;include mat.menu-theme($dark-theme);
&#64;include mat.radio-theme($dark-theme);
&#64;include mat.select-theme($dark-theme);
&#64;include mat.sidenav-theme($dark-theme);
</pre>
                                                        </code>

                                                        Becomes:
                                                        <code>
                                                        <pre>
.dark &#123;
    &#64;include mat.all-component-colors($dark-primary);
    &#64;include mat.core-theme($dark-theme);
    &#64;include mat.button-theme($dark-theme);
    &#64;include mat.card-theme($dark-theme);
    &#64;include mat.checkbox-theme($dark-theme);
    &#64;include mat.dialog-theme($dark-theme);
    &#64;include mat.icon-theme($dark-theme);
    &#64;include mat.input-theme($dark-theme);
    &#64;include mat.list-theme($dark-theme);
    &#64;include mat.menu-theme($dark-theme);
    &#64;include mat.radio-theme($dark-theme);
    &#64;include mat.select-theme($dark-theme);
    &#64;include mat.sidenav-theme($dark-theme);
&#125;
</pre>
                                                        </code>
                                                        This ensures that the styles are only generated once.
                                                    </li>
                                                </ul>
                                            </div>
                                        </mat-expansion-panel>
                                    </li>
                                    <li>
                                        <mat-expansion-panel>
                                            <mat-expansion-panel-header>
                                                <mat-panel-title>'&lt;ELEMENT&gt;' is not a known
                                                    element</mat-panel-title>
                                            </mat-expansion-panel-header>Custom web elements can be valuable for several
                                            reasons:<br>
                                            <ul>
                                                <li>Encapsulation: Custom elements encapsulate HTML, CSS, and JavaScript
                                                    into reusable components, promoting modularity and code
                                                    organization.</li>
                                                <li>Reusability: Once created, custom elements can be reused across
                                                    different projects or within the same application, saving
                                                    development time.</li>
                                                <li>Interoperability: Web Components are designed to be interoperable,
                                                    allowing them to work seamlessly with different frameworks and
                                                    libraries.</li>
                                                <li>Performance: Custom elements can be optimized for performance,
                                                    potentially improving the loading time and responsiveness of your
                                                    application.</li>
                                                <li>Maintainability: Encapsulating code into custom elements can make it
                                                    easier to maintain and update your application over time.</li>
                                            </ul><br><br>

                                            By default, Angular does not allow custom web
                                            components. To allow them, add the custom element schema to the
                                            component:<br>
                                            <code>
                                                <pre>
import &#123; CUSTOM_ELEMENTS_SCHEMA &#125; from '&#64;angular/core'; <span class="comment"><mat-icon>arrow_back</mat-icon> Add this to the top of the file</span>                   
&#64;Component(&#123;
    selector: 'app-root',
    templateUrl: './app.component.html',
    styleUrls: ['./app.component.scss'],
    schemas: [CUSTOM_ELEMENTS_SCHEMA] <span class="comment"><mat-icon>arrow_back</mat-icon> Add this to the component decorator</span>
&#125;)
</pre>
                                            </code>
                                        </mat-expansion-panel>
                                    </li>
                                </ul>
                            </mat-expansion-panel>
                        </li>
                    </ul>
                </div>
            </div>
            <div><app-comment></app-comment></div>
        </div>
    </mat-card-content>
</mat-card>